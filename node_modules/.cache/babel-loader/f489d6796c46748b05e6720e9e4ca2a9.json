{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCalculatedProps = getCalculatedProps;\nexports.getChildProps = getChildProps;\nexports.getChildren = getChildren;\nexports.useMemoizedProps = useMemoizedProps;\n\nvar _orderBy2 = _interopRequireDefault(require(\"lodash/orderBy\"));\n\nvar _keys2 = _interopRequireDefault(require(\"lodash/keys\"));\n\nvar _assign2 = _interopRequireDefault(require(\"lodash/assign\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _victoryCore = require(\"victory-core\");\n\nvar _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n  var xKeys = (0, _keys2.default)(xMap).map(function (k) {\n    return +k;\n  });\n  var xArr = (0, _orderBy2.default)(xKeys);\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = +x;\n      var datum = dataset[index - indexOffset];\n\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n\n        if (x1 === x) {\n          return datum;\n        } else {\n          indexOffset++;\n          var y = fillInMissingData ? 0 : null;\n          x = isDate ? new Date(x) : x;\n          return {\n            x: x,\n            y: y,\n            _x: x,\n            _y: y\n          };\n        }\n      } else {\n        var _y = fillInMissingData ? 0 : null;\n\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n    });\n    return filledInData;\n  });\n}\n\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n\n  var y = datum._y;\n  var group = datum._group;\n  var firstDatasetBaseline = datasets[0].map(function (d) {\n    return d.y0;\n  });\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? +value + memo : memo;\n  }, firstDatasetBaseline[group] || 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return (0, _assign2.default)({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(+datum._y + +yOffset) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(+datum._x + +xOffset) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = _victoryCore.Wrapper.getDataFromChildren(props, childComponents);\n\n  var filterNullChildData = dataFromChildren.map(function (dataset) {\n    return dataset.filter(function (datum) {\n      return datum._x !== null && datum._y !== null;\n    });\n  });\n  var datasets = fillData(props, filterNullChildData);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\n\nfunction getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || _react.default.Children.toArray(props.children);\n  var role = \"stack\";\n  props = _victoryCore.Helpers.modifyProps(props, fallbackProps, role);\n\n  var style = _victoryCore.Wrapper.getStyle(props.theme, props.style, role);\n\n  var categories = props.categories || _victoryCore.Wrapper.getCategories(props, childComponents);\n\n  var datasets = props.datasets || stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return /*#__PURE__*/_react.default.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: _victoryCore.Wrapper.getDomain((0, _assign2.default)({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: _victoryCore.Wrapper.getDomain((0, _assign2.default)({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = props.range || {\n    x: _victoryCore.Helpers.getRange(props, \"x\"),\n    y: _victoryCore.Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: _victoryCore.Scale.getScaleFromProps(props, \"x\") || _victoryCore.Wrapper.getScale(props, \"x\"),\n    y: _victoryCore.Scale.getScaleFromProps(props, \"y\") || _victoryCore.Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n      colorScale = _props.colorScale,\n      horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n} // We need to remove sharedEvents in order to memoize the calculated data\n// With shared events, the props change on every event, and every value is re-calculated\n\n\nvar withoutSharedEvents = function (props) {\n  var children = props.children;\n\n  var modifiedChildren = _react.default.Children.toArray(children).map(function (child) {\n    return _objectSpread(_objectSpread({}, child), {}, {\n      props: _victoryCore.Helpers.omit(child.props, [\"sharedEvents\"])\n    });\n  });\n\n  props.children = modifiedChildren;\n  return props;\n};\n\nfunction useMemoizedProps(initialProps) {\n  var modifiedProps = withoutSharedEvents(initialProps);\n\n  var _React$useState = _react.default.useState(modifiedProps),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      props = _React$useState2[0],\n      setProps = _React$useState2[1]; // React.memo uses shallow equality to compare objects. This way props\n  // will only be re-calculated when they change.\n\n\n  _react.default.useEffect(function () {\n    if (!(0, _reactFastCompare.default)(modifiedProps, props)) {\n      setProps(modifiedProps);\n    }\n  }, [props, setProps, modifiedProps]);\n\n  return _react.default.useMemo(function () {\n    return getCalculatedProps(props, props.children);\n  }, [props]);\n}\n\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\n\nfunction getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n      domain = calculatedProps.domain,\n      range = calculatedProps.range,\n      scale = calculatedProps.scale,\n      horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: _victoryCore.Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\n\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\n\nfunction getChildren(props, childComponents, calculatedProps) {\n  props = _victoryCore.Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || _react.default.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n      datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n\n    var style = _victoryCore.Wrapper.getChildStyle(child, index, calculatedProps);\n\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return /*#__PURE__*/_react.default.cloneElement(child, (0, _assign2.default)({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","getCalculatedProps","getChildProps","getChildren","useMemoizedProps","_orderBy2","_interopRequireDefault","require","_keys2","_assign2","_react","_victoryCore","_reactFastCompare","obj","__esModule","default","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_arr","_n","_d","_s","_e","next","done","push","err","isArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","fallbackProps","width","height","padding","fillData","props","datasets","fillInMissingData","xMap","reduce","prev","dataset","datum","_x","Date","getTime","xKeys","map","k","xArr","indexOffset","isDate","filledInData","x","index","x1","y","_y","getY0","y0","group","_group","firstDatasetBaseline","d","previousDatasets","previousPoints","concat","previousDatum","memo","sameSign","some","point","addLayoutData","xOffset","yOffset","_y0","_y1","_x1","stackData","childComponents","dataFromChildren","Wrapper","getDataFromChildren","filterNullChildData","Children","toArray","children","role","Helpers","modifyProps","style","getStyle","theme","categories","getCategories","c","cloneElement","data","domain","getDomain","range","getRange","baseScale","Scale","getScaleFromProps","getScale","scale","horizontal","_props","colorScale","withoutSharedEvents","modifiedChildren","child","omit","initialProps","modifiedProps","_React$useState","useState","_React$useState2","setProps","useEffect","useMemo","getLabels","labels","undefined","calculatedProps","getPadding","standalone","getColorScale","type","colorScaleOptions","_calculatedProps","childProps","parentName","getChildStyle","domainPadding","labelComponent","polar"],"sources":["/Users/gyul/git/b-ad-manager/node_modules/victory-stack/lib/helper-methods.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCalculatedProps = getCalculatedProps;\nexports.getChildProps = getChildProps;\nexports.getChildren = getChildren;\nexports.useMemoizedProps = useMemoizedProps;\n\nvar _orderBy2 = _interopRequireDefault(require(\"lodash/orderBy\"));\n\nvar _keys2 = _interopRequireDefault(require(\"lodash/keys\"));\n\nvar _assign2 = _interopRequireDefault(require(\"lodash/assign\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _victoryCore = require(\"victory-core\");\n\nvar _reactFastCompare = _interopRequireDefault(require(\"react-fast-compare\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar fallbackProps = {\n  width: 450,\n  height: 300,\n  padding: 50\n}; // Assumes data in `datasets` is sorted by `Data.getData`.\n\nfunction fillData(props, datasets) {\n  var fillInMissingData = props.fillInMissingData;\n  var xMap = datasets.reduce(function (prev, dataset) {\n    dataset.forEach(function (datum) {\n      prev[datum._x instanceof Date ? datum._x.getTime() : datum._x] = true;\n    });\n    return prev;\n  }, {});\n  var xKeys = (0, _keys2.default)(xMap).map(function (k) {\n    return +k;\n  });\n  var xArr = (0, _orderBy2.default)(xKeys);\n  return datasets.map(function (dataset) {\n    var indexOffset = 0;\n    var isDate = dataset[0] && dataset[0]._x instanceof Date;\n    var filledInData = xArr.map(function (x, index) {\n      x = +x;\n      var datum = dataset[index - indexOffset];\n\n      if (datum) {\n        var x1 = isDate ? datum._x.getTime() : datum._x;\n\n        if (x1 === x) {\n          return datum;\n        } else {\n          indexOffset++;\n          var y = fillInMissingData ? 0 : null;\n          x = isDate ? new Date(x) : x;\n          return {\n            x: x,\n            y: y,\n            _x: x,\n            _y: y\n          };\n        }\n      } else {\n        var _y = fillInMissingData ? 0 : null;\n\n        x = isDate ? new Date(x) : x;\n        return {\n          x: x,\n          y: _y,\n          _x: x,\n          _y: _y\n        };\n      }\n    });\n    return filledInData;\n  });\n}\n\nfunction getY0(datum, index, datasets) {\n  if (datum.y0) {\n    return datum.y0;\n  }\n\n  var y = datum._y;\n  var group = datum._group;\n  var firstDatasetBaseline = datasets[0].map(function (d) {\n    return d.y0;\n  });\n  var previousDatasets = datasets.slice(0, index);\n  var previousPoints = previousDatasets.reduce(function (prev, dataset) {\n    return prev.concat(dataset.filter(function (previousDatum) {\n      return datum._x instanceof Date ? previousDatum._x.getTime() === datum._x.getTime() : previousDatum._x === datum._x;\n    }).map(function (previousDatum) {\n      return previousDatum._y || 0;\n    }));\n  }, []);\n  var y0 = previousPoints.length && previousPoints.reduce(function (memo, value) {\n    var sameSign = y < 0 && value < 0 || y >= 0 && value >= 0;\n    return sameSign ? +value + memo : memo;\n  }, firstDatasetBaseline[group] || 0);\n  return previousPoints.some(function (point) {\n    return point instanceof Date;\n  }) ? new Date(y0) : y0;\n}\n/* eslint-disable no-nested-ternary */\n\n\nfunction addLayoutData(props, datasets, index) {\n  var xOffset = props.xOffset || 0;\n  return datasets[index].map(function (datum) {\n    var yOffset = getY0(datum, index, datasets) || 0;\n    return (0, _assign2.default)({}, datum, {\n      _y0: !(datum._y instanceof Date) ? yOffset : yOffset ? new Date(yOffset) : datum._y,\n      _y1: datum._y === null ? null : datum._y instanceof Date ? new Date(+datum._y + +yOffset) : datum._y + yOffset,\n      _x1: datum._x === null ? null : datum._x instanceof Date ? new Date(+datum._x + +xOffset) : datum._x + xOffset\n    });\n  });\n}\n/* eslint-enable no-nested-ternary */\n\n\nfunction stackData(props, childComponents) {\n  var dataFromChildren = _victoryCore.Wrapper.getDataFromChildren(props, childComponents);\n\n  var filterNullChildData = dataFromChildren.map(function (dataset) {\n    return dataset.filter(function (datum) {\n      return datum._x !== null && datum._y !== null;\n    });\n  });\n  var datasets = fillData(props, filterNullChildData);\n  return datasets.map(function (d, i) {\n    return addLayoutData(props, datasets, i);\n  });\n}\n\nfunction getCalculatedProps(props, childComponents) {\n  childComponents = childComponents || _react.default.Children.toArray(props.children);\n  var role = \"stack\";\n  props = _victoryCore.Helpers.modifyProps(props, fallbackProps, role);\n\n  var style = _victoryCore.Wrapper.getStyle(props.theme, props.style, role);\n\n  var categories = props.categories || _victoryCore.Wrapper.getCategories(props, childComponents);\n\n  var datasets = props.datasets || stackData(props, childComponents);\n  var children = childComponents.map(function (c, i) {\n    return /*#__PURE__*/_react.default.cloneElement(c, {\n      data: datasets[i]\n    });\n  });\n  var domain = {\n    x: _victoryCore.Wrapper.getDomain((0, _assign2.default)({}, props, {\n      categories: categories\n    }), \"x\", children),\n    y: _victoryCore.Wrapper.getDomain((0, _assign2.default)({}, props, {\n      categories: categories\n    }), \"y\", children)\n  };\n  var range = props.range || {\n    x: _victoryCore.Helpers.getRange(props, \"x\"),\n    y: _victoryCore.Helpers.getRange(props, \"y\")\n  };\n  var baseScale = {\n    x: _victoryCore.Scale.getScaleFromProps(props, \"x\") || _victoryCore.Wrapper.getScale(props, \"x\"),\n    y: _victoryCore.Scale.getScaleFromProps(props, \"y\") || _victoryCore.Wrapper.getScale(props, \"y\")\n  };\n  var scale = {\n    x: baseScale.x.domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: baseScale.y.domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var _props = props,\n      colorScale = _props.colorScale,\n      horizontal = _props.horizontal;\n  return {\n    datasets: datasets,\n    categories: categories,\n    range: range,\n    domain: domain,\n    horizontal: horizontal,\n    scale: scale,\n    style: style,\n    colorScale: colorScale,\n    role: role\n  };\n} // We need to remove sharedEvents in order to memoize the calculated data\n// With shared events, the props change on every event, and every value is re-calculated\n\n\nvar withoutSharedEvents = function (props) {\n  var children = props.children;\n\n  var modifiedChildren = _react.default.Children.toArray(children).map(function (child) {\n    return _objectSpread(_objectSpread({}, child), {}, {\n      props: _victoryCore.Helpers.omit(child.props, [\"sharedEvents\"])\n    });\n  });\n\n  props.children = modifiedChildren;\n  return props;\n};\n\nfunction useMemoizedProps(initialProps) {\n  var modifiedProps = withoutSharedEvents(initialProps);\n\n  var _React$useState = _react.default.useState(modifiedProps),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      props = _React$useState2[0],\n      setProps = _React$useState2[1]; // React.memo uses shallow equality to compare objects. This way props\n  // will only be re-calculated when they change.\n\n\n  _react.default.useEffect(function () {\n    if (!(0, _reactFastCompare.default)(modifiedProps, props)) {\n      setProps(modifiedProps);\n    }\n  }, [props, setProps, modifiedProps]);\n\n  return _react.default.useMemo(function () {\n    return getCalculatedProps(props, props.children);\n  }, [props]);\n}\n\nfunction getLabels(props, datasets, index) {\n  if (!props.labels) {\n    return undefined;\n  }\n\n  return datasets.length === index + 1 ? props.labels : undefined;\n}\n\nfunction getChildProps(props, calculatedProps) {\n  var categories = calculatedProps.categories,\n      domain = calculatedProps.domain,\n      range = calculatedProps.range,\n      scale = calculatedProps.scale,\n      horizontal = calculatedProps.horizontal;\n  return {\n    height: props.height,\n    width: props.width,\n    padding: _victoryCore.Helpers.getPadding(props),\n    standalone: false,\n    theme: props.theme,\n    categories: categories,\n    domain: domain,\n    range: range,\n    scale: scale,\n    horizontal: horizontal\n  };\n}\n\nfunction getColorScale(props, child) {\n  var role = child.type && child.type.role;\n  var colorScaleOptions = child.props.colorScale || props.colorScale;\n\n  if (role !== \"group\" && role !== \"stack\") {\n    return undefined;\n  }\n\n  return props.theme ? colorScaleOptions || props.theme.props.colorScale : colorScaleOptions;\n}\n\nfunction getChildren(props, childComponents, calculatedProps) {\n  props = _victoryCore.Helpers.modifyProps(props, fallbackProps, \"stack\");\n  childComponents = childComponents || _react.default.Children.toArray(props.children);\n  calculatedProps = calculatedProps || getCalculatedProps(props, childComponents);\n  var _calculatedProps = calculatedProps,\n      datasets = _calculatedProps.datasets;\n  var childProps = getChildProps(props, calculatedProps);\n  var parentName = props.name || \"stack\";\n  return childComponents.map(function (child, index) {\n    var role = child.type && child.type.role;\n    var data = datasets[index];\n\n    var style = _victoryCore.Wrapper.getChildStyle(child, index, calculatedProps);\n\n    var labels = props.labels ? getLabels(props, datasets, index) : child.props.labels;\n    var name = child.props.name || \"\".concat(parentName, \"-\").concat(role, \"-\").concat(index);\n    return /*#__PURE__*/_react.default.cloneElement(child, (0, _assign2.default)({\n      key: \"\".concat(name, \"-key-\").concat(index),\n      labels: labels,\n      name: name,\n      domainPadding: child.props.domainPadding || props.domainPadding,\n      theme: props.theme,\n      labelComponent: props.labelComponent || child.props.labelComponent,\n      style: style,\n      colorScale: getColorScale(props, child),\n      data: data,\n      polar: props.polar\n    }, childProps));\n  });\n}"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B;AACAF,OAAO,CAACG,aAAR,GAAwBA,aAAxB;AACAH,OAAO,CAACI,WAAR,GAAsBA,WAAtB;AACAJ,OAAO,CAACK,gBAAR,GAA2BA,gBAA3B;;AAEA,IAAIC,SAAS,GAAGC,sBAAsB,CAACC,OAAO,CAAC,gBAAD,CAAR,CAAtC;;AAEA,IAAIC,MAAM,GAAGF,sBAAsB,CAACC,OAAO,CAAC,aAAD,CAAR,CAAnC;;AAEA,IAAIE,QAAQ,GAAGH,sBAAsB,CAACC,OAAO,CAAC,eAAD,CAAR,CAArC;;AAEA,IAAIG,MAAM,GAAGJ,sBAAsB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,IAAII,YAAY,GAAGJ,OAAO,CAAC,cAAD,CAA1B;;AAEA,IAAIK,iBAAiB,GAAGN,sBAAsB,CAACC,OAAO,CAAC,oBAAD,CAAR,CAA9C;;AAEA,SAASD,sBAAT,CAAgCO,GAAhC,EAAqC;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;IAAEE,OAAO,EAAEF;EAAX,CAArC;AAAwD;;AAE/F,SAASG,cAAT,CAAwBC,GAAxB,EAA6BC,CAA7B,EAAgC;EAAE,OAAOC,eAAe,CAACF,GAAD,CAAf,IAAwBG,qBAAqB,CAACH,GAAD,EAAMC,CAAN,CAA7C,IAAyDG,2BAA2B,CAACJ,GAAD,EAAMC,CAAN,CAApF,IAAgGI,gBAAgB,EAAvH;AAA4H;;AAE9J,SAASA,gBAAT,GAA4B;EAAE,MAAM,IAAIC,SAAJ,CAAc,2IAAd,CAAN;AAAmK;;AAEjM,SAASF,2BAAT,CAAqCG,CAArC,EAAwCC,MAAxC,EAAgD;EAAE,IAAI,CAACD,CAAL,EAAQ;EAAQ,IAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOE,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;EAAqC,IAAIE,CAAC,GAAG9B,MAAM,CAAC+B,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BN,CAA/B,EAAkCO,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;EAAwD,IAAIJ,CAAC,KAAK,QAAN,IAAkBH,CAAC,CAACQ,WAAxB,EAAqCL,CAAC,GAAGH,CAAC,CAACQ,WAAF,CAAcC,IAAlB;EAAwB,IAAIN,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAOO,KAAK,CAACC,IAAN,CAAWX,CAAX,CAAP;EAAsB,IAAIG,CAAC,KAAK,WAAN,IAAqB,2CAA2CS,IAA3C,CAAgDT,CAAhD,CAAzB,EAA6E,OAAOD,iBAAiB,CAACF,CAAD,EAAIC,MAAJ,CAAxB;AAAsC;;AAEha,SAASC,iBAAT,CAA2BT,GAA3B,EAAgCoB,GAAhC,EAAqC;EAAE,IAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAGpB,GAAG,CAACqB,MAA7B,EAAqCD,GAAG,GAAGpB,GAAG,CAACqB,MAAV;;EAAkB,KAAK,IAAIpB,CAAC,GAAG,CAAR,EAAWqB,IAAI,GAAG,IAAIL,KAAJ,CAAUG,GAAV,CAAvB,EAAuCnB,CAAC,GAAGmB,GAA3C,EAAgDnB,CAAC,EAAjD,EAAqD;IAAEqB,IAAI,CAACrB,CAAD,CAAJ,GAAUD,GAAG,CAACC,CAAD,CAAb;EAAmB;;EAAC,OAAOqB,IAAP;AAAc;;AAEvL,SAASnB,qBAAT,CAA+BH,GAA/B,EAAoCC,CAApC,EAAuC;EAAE,IAAIsB,EAAE,GAAGvB,GAAG,IAAI,IAAP,GAAc,IAAd,GAAqB,OAAOwB,MAAP,KAAkB,WAAlB,IAAiCxB,GAAG,CAACwB,MAAM,CAACC,QAAR,CAApC,IAAyDzB,GAAG,CAAC,YAAD,CAA1F;;EAA0G,IAAIuB,EAAE,IAAI,IAAV,EAAgB;EAAQ,IAAIG,IAAI,GAAG,EAAX;EAAe,IAAIC,EAAE,GAAG,IAAT;EAAe,IAAIC,EAAE,GAAG,KAAT;;EAAgB,IAAIC,EAAJ,EAAQC,EAAR;;EAAY,IAAI;IAAE,KAAKP,EAAE,GAAGA,EAAE,CAACV,IAAH,CAAQb,GAAR,CAAV,EAAwB,EAAE2B,EAAE,GAAG,CAACE,EAAE,GAAGN,EAAE,CAACQ,IAAH,EAAN,EAAiBC,IAAxB,CAAxB,EAAuDL,EAAE,GAAG,IAA5D,EAAkE;MAAED,IAAI,CAACO,IAAL,CAAUJ,EAAE,CAAC9C,KAAb;;MAAqB,IAAIkB,CAAC,IAAIyB,IAAI,CAACL,MAAL,KAAgBpB,CAAzB,EAA4B;IAAQ;EAAE,CAArI,CAAsI,OAAOiC,GAAP,EAAY;IAAEN,EAAE,GAAG,IAAL;IAAWE,EAAE,GAAGI,GAAL;EAAW,CAA1K,SAAmL;IAAE,IAAI;MAAE,IAAI,CAACP,EAAD,IAAOJ,EAAE,CAAC,QAAD,CAAF,IAAgB,IAA3B,EAAiCA,EAAE,CAAC,QAAD,CAAF;IAAiB,CAAxD,SAAiE;MAAE,IAAIK,EAAJ,EAAQ,MAAME,EAAN;IAAW;EAAE;;EAAC,OAAOJ,IAAP;AAAc;;AAEjgB,SAASxB,eAAT,CAAyBF,GAAzB,EAA8B;EAAE,IAAIiB,KAAK,CAACkB,OAAN,CAAcnC,GAAd,CAAJ,EAAwB,OAAOA,GAAP;AAAa;;AAErE,SAASoC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;EAAE,IAAIC,IAAI,GAAG3D,MAAM,CAAC2D,IAAP,CAAYF,MAAZ,CAAX;;EAAgC,IAAIzD,MAAM,CAAC4D,qBAAX,EAAkC;IAAE,IAAIC,OAAO,GAAG7D,MAAM,CAAC4D,qBAAP,CAA6BH,MAA7B,CAAd;IAAoDC,cAAc,KAAKG,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;MAAE,OAAO/D,MAAM,CAACgE,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CE,UAApD;IAAiE,CAAjG,CAAf,CAAd,EAAkIN,IAAI,CAACN,IAAL,CAAUa,KAAV,CAAgBP,IAAhB,EAAsBE,OAAtB,CAAlI;EAAmK;;EAAC,OAAOF,IAAP;AAAc;;AAErV,SAASQ,aAAT,CAAuBC,MAAvB,EAA+B;EAAE,KAAK,IAAI/C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgD,SAAS,CAAC5B,MAA9B,EAAsCpB,CAAC,EAAvC,EAA2C;IAAE,IAAIiD,MAAM,GAAG,QAAQD,SAAS,CAAChD,CAAD,CAAjB,GAAuBgD,SAAS,CAAChD,CAAD,CAAhC,GAAsC,EAAnD;IAAuDA,CAAC,GAAG,CAAJ,GAAQmC,OAAO,CAACxD,MAAM,CAACsE,MAAD,CAAP,EAAiB,CAAC,CAAlB,CAAP,CAA4BC,OAA5B,CAAoC,UAAUC,GAAV,EAAe;MAAEC,eAAe,CAACL,MAAD,EAASI,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;IAA4C,CAAjG,CAAR,GAA6GxE,MAAM,CAAC0E,yBAAP,GAAmC1E,MAAM,CAAC2E,gBAAP,CAAwBP,MAAxB,EAAgCpE,MAAM,CAAC0E,yBAAP,CAAiCJ,MAAjC,CAAhC,CAAnC,GAA+Gd,OAAO,CAACxD,MAAM,CAACsE,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;MAAExE,MAAM,CAACC,cAAP,CAAsBmE,MAAtB,EAA8BI,GAA9B,EAAmCxE,MAAM,CAACgE,wBAAP,CAAgCM,MAAhC,EAAwCE,GAAxC,CAAnC;IAAmF,CAApI,CAA5N;EAAoW;;EAAC,OAAOJ,MAAP;AAAgB;;AAE1f,SAASK,eAAT,CAAyBzD,GAAzB,EAA8BwD,GAA9B,EAAmCrE,KAAnC,EAA0C;EAAE,IAAIqE,GAAG,IAAIxD,GAAX,EAAgB;IAAEhB,MAAM,CAACC,cAAP,CAAsBe,GAAtB,EAA2BwD,GAA3B,EAAgC;MAAErE,KAAK,EAAEA,KAAT;MAAgB8D,UAAU,EAAE,IAA5B;MAAkCW,YAAY,EAAE,IAAhD;MAAsDC,QAAQ,EAAE;IAAhE,CAAhC;EAA0G,CAA5H,MAAkI;IAAE7D,GAAG,CAACwD,GAAD,CAAH,GAAWrE,KAAX;EAAmB;;EAAC,OAAOa,GAAP;AAAa;;AAEjN,IAAI8D,aAAa,GAAG;EAClBC,KAAK,EAAE,GADW;EAElBC,MAAM,EAAE,GAFU;EAGlBC,OAAO,EAAE;AAHS,CAApB,C,CAIG;;AAEH,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,QAAzB,EAAmC;EACjC,IAAIC,iBAAiB,GAAGF,KAAK,CAACE,iBAA9B;EACA,IAAIC,IAAI,GAAGF,QAAQ,CAACG,MAAT,CAAgB,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;IAClDA,OAAO,CAAClB,OAAR,CAAgB,UAAUmB,KAAV,EAAiB;MAC/BF,IAAI,CAACE,KAAK,CAACC,EAAN,YAAoBC,IAApB,GAA2BF,KAAK,CAACC,EAAN,CAASE,OAAT,EAA3B,GAAgDH,KAAK,CAACC,EAAvD,CAAJ,GAAiE,IAAjE;IACD,CAFD;IAGA,OAAOH,IAAP;EACD,CALU,EAKR,EALQ,CAAX;EAMA,IAAIM,KAAK,GAAG,CAAC,GAAGnF,MAAM,CAACO,OAAX,EAAoBoE,IAApB,EAA0BS,GAA1B,CAA8B,UAAUC,CAAV,EAAa;IACrD,OAAO,CAACA,CAAR;EACD,CAFW,CAAZ;EAGA,IAAIC,IAAI,GAAG,CAAC,GAAGzF,SAAS,CAACU,OAAd,EAAuB4E,KAAvB,CAAX;EACA,OAAOV,QAAQ,CAACW,GAAT,CAAa,UAAUN,OAAV,EAAmB;IACrC,IAAIS,WAAW,GAAG,CAAlB;IACA,IAAIC,MAAM,GAAGV,OAAO,CAAC,CAAD,CAAP,IAAcA,OAAO,CAAC,CAAD,CAAP,CAAWE,EAAX,YAAyBC,IAApD;IACA,IAAIQ,YAAY,GAAGH,IAAI,CAACF,GAAL,CAAS,UAAUM,CAAV,EAAaC,KAAb,EAAoB;MAC9CD,CAAC,GAAG,CAACA,CAAL;MACA,IAAIX,KAAK,GAAGD,OAAO,CAACa,KAAK,GAAGJ,WAAT,CAAnB;;MAEA,IAAIR,KAAJ,EAAW;QACT,IAAIa,EAAE,GAAGJ,MAAM,GAAGT,KAAK,CAACC,EAAN,CAASE,OAAT,EAAH,GAAwBH,KAAK,CAACC,EAA7C;;QAEA,IAAIY,EAAE,KAAKF,CAAX,EAAc;UACZ,OAAOX,KAAP;QACD,CAFD,MAEO;UACLQ,WAAW;UACX,IAAIM,CAAC,GAAGnB,iBAAiB,GAAG,CAAH,GAAO,IAAhC;UACAgB,CAAC,GAAGF,MAAM,GAAG,IAAIP,IAAJ,CAASS,CAAT,CAAH,GAAiBA,CAA3B;UACA,OAAO;YACLA,CAAC,EAAEA,CADE;YAELG,CAAC,EAAEA,CAFE;YAGLb,EAAE,EAAEU,CAHC;YAILI,EAAE,EAAED;UAJC,CAAP;QAMD;MACF,CAhBD,MAgBO;QACL,IAAIC,EAAE,GAAGpB,iBAAiB,GAAG,CAAH,GAAO,IAAjC;;QAEAgB,CAAC,GAAGF,MAAM,GAAG,IAAIP,IAAJ,CAASS,CAAT,CAAH,GAAiBA,CAA3B;QACA,OAAO;UACLA,CAAC,EAAEA,CADE;UAELG,CAAC,EAAEC,EAFE;UAGLd,EAAE,EAAEU,CAHC;UAILI,EAAE,EAAEA;QAJC,CAAP;MAMD;IACF,CA/BkB,CAAnB;IAgCA,OAAOL,YAAP;EACD,CApCM,CAAP;AAqCD;;AAED,SAASM,KAAT,CAAehB,KAAf,EAAsBY,KAAtB,EAA6BlB,QAA7B,EAAuC;EACrC,IAAIM,KAAK,CAACiB,EAAV,EAAc;IACZ,OAAOjB,KAAK,CAACiB,EAAb;EACD;;EAED,IAAIH,CAAC,GAAGd,KAAK,CAACe,EAAd;EACA,IAAIG,KAAK,GAAGlB,KAAK,CAACmB,MAAlB;EACA,IAAIC,oBAAoB,GAAG1B,QAAQ,CAAC,CAAD,CAAR,CAAYW,GAAZ,CAAgB,UAAUgB,CAAV,EAAa;IACtD,OAAOA,CAAC,CAACJ,EAAT;EACD,CAF0B,CAA3B;EAGA,IAAIK,gBAAgB,GAAG5B,QAAQ,CAAClD,KAAT,CAAe,CAAf,EAAkBoE,KAAlB,CAAvB;EACA,IAAIW,cAAc,GAAGD,gBAAgB,CAACzB,MAAjB,CAAwB,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;IACpE,OAAOD,IAAI,CAAC0B,MAAL,CAAYzB,OAAO,CAAC3B,MAAR,CAAe,UAAUqD,aAAV,EAAyB;MACzD,OAAOzB,KAAK,CAACC,EAAN,YAAoBC,IAApB,GAA2BuB,aAAa,CAACxB,EAAd,CAAiBE,OAAjB,OAA+BH,KAAK,CAACC,EAAN,CAASE,OAAT,EAA1D,GAA+EsB,aAAa,CAACxB,EAAd,KAAqBD,KAAK,CAACC,EAAjH;IACD,CAFkB,EAEhBI,GAFgB,CAEZ,UAAUoB,aAAV,EAAyB;MAC9B,OAAOA,aAAa,CAACV,EAAd,IAAoB,CAA3B;IACD,CAJkB,CAAZ,CAAP;EAKD,CANoB,EAMlB,EANkB,CAArB;EAOA,IAAIE,EAAE,GAAGM,cAAc,CAACxE,MAAf,IAAyBwE,cAAc,CAAC1B,MAAf,CAAsB,UAAU6B,IAAV,EAAgBjH,KAAhB,EAAuB;IAC7E,IAAIkH,QAAQ,GAAGb,CAAC,GAAG,CAAJ,IAASrG,KAAK,GAAG,CAAjB,IAAsBqG,CAAC,IAAI,CAAL,IAAUrG,KAAK,IAAI,CAAxD;IACA,OAAOkH,QAAQ,GAAG,CAAClH,KAAD,GAASiH,IAAZ,GAAmBA,IAAlC;EACD,CAHiC,EAG/BN,oBAAoB,CAACF,KAAD,CAApB,IAA+B,CAHA,CAAlC;EAIA,OAAOK,cAAc,CAACK,IAAf,CAAoB,UAAUC,KAAV,EAAiB;IAC1C,OAAOA,KAAK,YAAY3B,IAAxB;EACD,CAFM,IAEF,IAAIA,IAAJ,CAASe,EAAT,CAFE,GAEaA,EAFpB;AAGD;AACD;;;AAGA,SAASa,aAAT,CAAuBrC,KAAvB,EAA8BC,QAA9B,EAAwCkB,KAAxC,EAA+C;EAC7C,IAAImB,OAAO,GAAGtC,KAAK,CAACsC,OAAN,IAAiB,CAA/B;EACA,OAAOrC,QAAQ,CAACkB,KAAD,CAAR,CAAgBP,GAAhB,CAAoB,UAAUL,KAAV,EAAiB;IAC1C,IAAIgC,OAAO,GAAGhB,KAAK,CAAChB,KAAD,EAAQY,KAAR,EAAelB,QAAf,CAAL,IAAiC,CAA/C;IACA,OAAO,CAAC,GAAGxE,QAAQ,CAACM,OAAb,EAAsB,EAAtB,EAA0BwE,KAA1B,EAAiC;MACtCiC,GAAG,EAAE,EAAEjC,KAAK,CAACe,EAAN,YAAoBb,IAAtB,IAA8B8B,OAA9B,GAAwCA,OAAO,GAAG,IAAI9B,IAAJ,CAAS8B,OAAT,CAAH,GAAuBhC,KAAK,CAACe,EAD3C;MAEtCmB,GAAG,EAAElC,KAAK,CAACe,EAAN,KAAa,IAAb,GAAoB,IAApB,GAA2Bf,KAAK,CAACe,EAAN,YAAoBb,IAApB,GAA2B,IAAIA,IAAJ,CAAS,CAACF,KAAK,CAACe,EAAP,GAAY,CAACiB,OAAtB,CAA3B,GAA4DhC,KAAK,CAACe,EAAN,GAAWiB,OAFjE;MAGtCG,GAAG,EAAEnC,KAAK,CAACC,EAAN,KAAa,IAAb,GAAoB,IAApB,GAA2BD,KAAK,CAACC,EAAN,YAAoBC,IAApB,GAA2B,IAAIA,IAAJ,CAAS,CAACF,KAAK,CAACC,EAAP,GAAY,CAAC8B,OAAtB,CAA3B,GAA4D/B,KAAK,CAACC,EAAN,GAAW8B;IAHjE,CAAjC,CAAP;EAKD,CAPM,CAAP;AAQD;AACD;;;AAGA,SAASK,SAAT,CAAmB3C,KAAnB,EAA0B4C,eAA1B,EAA2C;EACzC,IAAIC,gBAAgB,GAAGlH,YAAY,CAACmH,OAAb,CAAqBC,mBAArB,CAAyC/C,KAAzC,EAAgD4C,eAAhD,CAAvB;;EAEA,IAAII,mBAAmB,GAAGH,gBAAgB,CAACjC,GAAjB,CAAqB,UAAUN,OAAV,EAAmB;IAChE,OAAOA,OAAO,CAAC3B,MAAR,CAAe,UAAU4B,KAAV,EAAiB;MACrC,OAAOA,KAAK,CAACC,EAAN,KAAa,IAAb,IAAqBD,KAAK,CAACe,EAAN,KAAa,IAAzC;IACD,CAFM,CAAP;EAGD,CAJyB,CAA1B;EAKA,IAAIrB,QAAQ,GAAGF,QAAQ,CAACC,KAAD,EAAQgD,mBAAR,CAAvB;EACA,OAAO/C,QAAQ,CAACW,GAAT,CAAa,UAAUgB,CAAV,EAAa1F,CAAb,EAAgB;IAClC,OAAOmG,aAAa,CAACrC,KAAD,EAAQC,QAAR,EAAkB/D,CAAlB,CAApB;EACD,CAFM,CAAP;AAGD;;AAED,SAASjB,kBAAT,CAA4B+E,KAA5B,EAAmC4C,eAAnC,EAAoD;EAClDA,eAAe,GAAGA,eAAe,IAAIlH,MAAM,CAACK,OAAP,CAAekH,QAAf,CAAwBC,OAAxB,CAAgClD,KAAK,CAACmD,QAAtC,CAArC;EACA,IAAIC,IAAI,GAAG,OAAX;EACApD,KAAK,GAAGrE,YAAY,CAAC0H,OAAb,CAAqBC,WAArB,CAAiCtD,KAAjC,EAAwCL,aAAxC,EAAuDyD,IAAvD,CAAR;;EAEA,IAAIG,KAAK,GAAG5H,YAAY,CAACmH,OAAb,CAAqBU,QAArB,CAA8BxD,KAAK,CAACyD,KAApC,EAA2CzD,KAAK,CAACuD,KAAjD,EAAwDH,IAAxD,CAAZ;;EAEA,IAAIM,UAAU,GAAG1D,KAAK,CAAC0D,UAAN,IAAoB/H,YAAY,CAACmH,OAAb,CAAqBa,aAArB,CAAmC3D,KAAnC,EAA0C4C,eAA1C,CAArC;;EAEA,IAAI3C,QAAQ,GAAGD,KAAK,CAACC,QAAN,IAAkB0C,SAAS,CAAC3C,KAAD,EAAQ4C,eAAR,CAA1C;EACA,IAAIO,QAAQ,GAAGP,eAAe,CAAChC,GAAhB,CAAoB,UAAUgD,CAAV,EAAa1H,CAAb,EAAgB;IACjD,OAAO,aAAaR,MAAM,CAACK,OAAP,CAAe8H,YAAf,CAA4BD,CAA5B,EAA+B;MACjDE,IAAI,EAAE7D,QAAQ,CAAC/D,CAAD;IADmC,CAA/B,CAApB;EAGD,CAJc,CAAf;EAKA,IAAI6H,MAAM,GAAG;IACX7C,CAAC,EAAEvF,YAAY,CAACmH,OAAb,CAAqBkB,SAArB,CAA+B,CAAC,GAAGvI,QAAQ,CAACM,OAAb,EAAsB,EAAtB,EAA0BiE,KAA1B,EAAiC;MACjE0D,UAAU,EAAEA;IADqD,CAAjC,CAA/B,EAEC,GAFD,EAEMP,QAFN,CADQ;IAIX9B,CAAC,EAAE1F,YAAY,CAACmH,OAAb,CAAqBkB,SAArB,CAA+B,CAAC,GAAGvI,QAAQ,CAACM,OAAb,EAAsB,EAAtB,EAA0BiE,KAA1B,EAAiC;MACjE0D,UAAU,EAAEA;IADqD,CAAjC,CAA/B,EAEC,GAFD,EAEMP,QAFN;EAJQ,CAAb;EAQA,IAAIc,KAAK,GAAGjE,KAAK,CAACiE,KAAN,IAAe;IACzB/C,CAAC,EAAEvF,YAAY,CAAC0H,OAAb,CAAqBa,QAArB,CAA8BlE,KAA9B,EAAqC,GAArC,CADsB;IAEzBqB,CAAC,EAAE1F,YAAY,CAAC0H,OAAb,CAAqBa,QAArB,CAA8BlE,KAA9B,EAAqC,GAArC;EAFsB,CAA3B;EAIA,IAAImE,SAAS,GAAG;IACdjD,CAAC,EAAEvF,YAAY,CAACyI,KAAb,CAAmBC,iBAAnB,CAAqCrE,KAArC,EAA4C,GAA5C,KAAoDrE,YAAY,CAACmH,OAAb,CAAqBwB,QAArB,CAA8BtE,KAA9B,EAAqC,GAArC,CADzC;IAEdqB,CAAC,EAAE1F,YAAY,CAACyI,KAAb,CAAmBC,iBAAnB,CAAqCrE,KAArC,EAA4C,GAA5C,KAAoDrE,YAAY,CAACmH,OAAb,CAAqBwB,QAArB,CAA8BtE,KAA9B,EAAqC,GAArC;EAFzC,CAAhB;EAIA,IAAIuE,KAAK,GAAG;IACVrD,CAAC,EAAEiD,SAAS,CAACjD,CAAV,CAAY6C,MAAZ,CAAmBA,MAAM,CAAC7C,CAA1B,EAA6B+C,KAA7B,CAAmCjE,KAAK,CAACwE,UAAN,GAAmBP,KAAK,CAAC5C,CAAzB,GAA6B4C,KAAK,CAAC/C,CAAtE,CADO;IAEVG,CAAC,EAAE8C,SAAS,CAAC9C,CAAV,CAAY0C,MAAZ,CAAmBA,MAAM,CAAC1C,CAA1B,EAA6B4C,KAA7B,CAAmCjE,KAAK,CAACwE,UAAN,GAAmBP,KAAK,CAAC/C,CAAzB,GAA6B+C,KAAK,CAAC5C,CAAtE;EAFO,CAAZ;EAIA,IAAIoD,MAAM,GAAGzE,KAAb;EAAA,IACI0E,UAAU,GAAGD,MAAM,CAACC,UADxB;EAAA,IAEIF,UAAU,GAAGC,MAAM,CAACD,UAFxB;EAGA,OAAO;IACLvE,QAAQ,EAAEA,QADL;IAELyD,UAAU,EAAEA,UAFP;IAGLO,KAAK,EAAEA,KAHF;IAILF,MAAM,EAAEA,MAJH;IAKLS,UAAU,EAAEA,UALP;IAMLD,KAAK,EAAEA,KANF;IAOLhB,KAAK,EAAEA,KAPF;IAQLmB,UAAU,EAAEA,UARP;IASLtB,IAAI,EAAEA;EATD,CAAP;AAWD,C,CAAC;AACF;;;AAGA,IAAIuB,mBAAmB,GAAG,UAAU3E,KAAV,EAAiB;EACzC,IAAImD,QAAQ,GAAGnD,KAAK,CAACmD,QAArB;;EAEA,IAAIyB,gBAAgB,GAAGlJ,MAAM,CAACK,OAAP,CAAekH,QAAf,CAAwBC,OAAxB,CAAgCC,QAAhC,EAA0CvC,GAA1C,CAA8C,UAAUiE,KAAV,EAAiB;IACpF,OAAO7F,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK6F,KAAL,CAAd,EAA2B,EAA3B,EAA+B;MACjD7E,KAAK,EAAErE,YAAY,CAAC0H,OAAb,CAAqByB,IAArB,CAA0BD,KAAK,CAAC7E,KAAhC,EAAuC,CAAC,cAAD,CAAvC;IAD0C,CAA/B,CAApB;EAGD,CAJsB,CAAvB;;EAMAA,KAAK,CAACmD,QAAN,GAAiByB,gBAAjB;EACA,OAAO5E,KAAP;AACD,CAXD;;AAaA,SAAS5E,gBAAT,CAA0B2J,YAA1B,EAAwC;EACtC,IAAIC,aAAa,GAAGL,mBAAmB,CAACI,YAAD,CAAvC;;EAEA,IAAIE,eAAe,GAAGvJ,MAAM,CAACK,OAAP,CAAemJ,QAAf,CAAwBF,aAAxB,CAAtB;EAAA,IACIG,gBAAgB,GAAGnJ,cAAc,CAACiJ,eAAD,EAAkB,CAAlB,CADrC;EAAA,IAEIjF,KAAK,GAAGmF,gBAAgB,CAAC,CAAD,CAF5B;EAAA,IAGIC,QAAQ,GAAGD,gBAAgB,CAAC,CAAD,CAH/B,CAHsC,CAMF;EACpC;;;EAGAzJ,MAAM,CAACK,OAAP,CAAesJ,SAAf,CAAyB,YAAY;IACnC,IAAI,CAAC,CAAC,GAAGzJ,iBAAiB,CAACG,OAAtB,EAA+BiJ,aAA/B,EAA8ChF,KAA9C,CAAL,EAA2D;MACzDoF,QAAQ,CAACJ,aAAD,CAAR;IACD;EACF,CAJD,EAIG,CAAChF,KAAD,EAAQoF,QAAR,EAAkBJ,aAAlB,CAJH;;EAMA,OAAOtJ,MAAM,CAACK,OAAP,CAAeuJ,OAAf,CAAuB,YAAY;IACxC,OAAOrK,kBAAkB,CAAC+E,KAAD,EAAQA,KAAK,CAACmD,QAAd,CAAzB;EACD,CAFM,EAEJ,CAACnD,KAAD,CAFI,CAAP;AAGD;;AAED,SAASuF,SAAT,CAAmBvF,KAAnB,EAA0BC,QAA1B,EAAoCkB,KAApC,EAA2C;EACzC,IAAI,CAACnB,KAAK,CAACwF,MAAX,EAAmB;IACjB,OAAOC,SAAP;EACD;;EAED,OAAOxF,QAAQ,CAAC3C,MAAT,KAAoB6D,KAAK,GAAG,CAA5B,GAAgCnB,KAAK,CAACwF,MAAtC,GAA+CC,SAAtD;AACD;;AAED,SAASvK,aAAT,CAAuB8E,KAAvB,EAA8B0F,eAA9B,EAA+C;EAC7C,IAAIhC,UAAU,GAAGgC,eAAe,CAAChC,UAAjC;EAAA,IACIK,MAAM,GAAG2B,eAAe,CAAC3B,MAD7B;EAAA,IAEIE,KAAK,GAAGyB,eAAe,CAACzB,KAF5B;EAAA,IAGIM,KAAK,GAAGmB,eAAe,CAACnB,KAH5B;EAAA,IAIIC,UAAU,GAAGkB,eAAe,CAAClB,UAJjC;EAKA,OAAO;IACL3E,MAAM,EAAEG,KAAK,CAACH,MADT;IAELD,KAAK,EAAEI,KAAK,CAACJ,KAFR;IAGLE,OAAO,EAAEnE,YAAY,CAAC0H,OAAb,CAAqBsC,UAArB,CAAgC3F,KAAhC,CAHJ;IAIL4F,UAAU,EAAE,KAJP;IAKLnC,KAAK,EAAEzD,KAAK,CAACyD,KALR;IAMLC,UAAU,EAAEA,UANP;IAOLK,MAAM,EAAEA,MAPH;IAQLE,KAAK,EAAEA,KARF;IASLM,KAAK,EAAEA,KATF;IAULC,UAAU,EAAEA;EAVP,CAAP;AAYD;;AAED,SAASqB,aAAT,CAAuB7F,KAAvB,EAA8B6E,KAA9B,EAAqC;EACnC,IAAIzB,IAAI,GAAGyB,KAAK,CAACiB,IAAN,IAAcjB,KAAK,CAACiB,IAAN,CAAW1C,IAApC;EACA,IAAI2C,iBAAiB,GAAGlB,KAAK,CAAC7E,KAAN,CAAY0E,UAAZ,IAA0B1E,KAAK,CAAC0E,UAAxD;;EAEA,IAAItB,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,OAAjC,EAA0C;IACxC,OAAOqC,SAAP;EACD;;EAED,OAAOzF,KAAK,CAACyD,KAAN,GAAcsC,iBAAiB,IAAI/F,KAAK,CAACyD,KAAN,CAAYzD,KAAZ,CAAkB0E,UAArD,GAAkEqB,iBAAzE;AACD;;AAED,SAAS5K,WAAT,CAAqB6E,KAArB,EAA4B4C,eAA5B,EAA6C8C,eAA7C,EAA8D;EAC5D1F,KAAK,GAAGrE,YAAY,CAAC0H,OAAb,CAAqBC,WAArB,CAAiCtD,KAAjC,EAAwCL,aAAxC,EAAuD,OAAvD,CAAR;EACAiD,eAAe,GAAGA,eAAe,IAAIlH,MAAM,CAACK,OAAP,CAAekH,QAAf,CAAwBC,OAAxB,CAAgClD,KAAK,CAACmD,QAAtC,CAArC;EACAuC,eAAe,GAAGA,eAAe,IAAIzK,kBAAkB,CAAC+E,KAAD,EAAQ4C,eAAR,CAAvD;EACA,IAAIoD,gBAAgB,GAAGN,eAAvB;EAAA,IACIzF,QAAQ,GAAG+F,gBAAgB,CAAC/F,QADhC;EAEA,IAAIgG,UAAU,GAAG/K,aAAa,CAAC8E,KAAD,EAAQ0F,eAAR,CAA9B;EACA,IAAIQ,UAAU,GAAGlG,KAAK,CAAC/C,IAAN,IAAc,OAA/B;EACA,OAAO2F,eAAe,CAAChC,GAAhB,CAAoB,UAAUiE,KAAV,EAAiB1D,KAAjB,EAAwB;IACjD,IAAIiC,IAAI,GAAGyB,KAAK,CAACiB,IAAN,IAAcjB,KAAK,CAACiB,IAAN,CAAW1C,IAApC;IACA,IAAIU,IAAI,GAAG7D,QAAQ,CAACkB,KAAD,CAAnB;;IAEA,IAAIoC,KAAK,GAAG5H,YAAY,CAACmH,OAAb,CAAqBqD,aAArB,CAAmCtB,KAAnC,EAA0C1D,KAA1C,EAAiDuE,eAAjD,CAAZ;;IAEA,IAAIF,MAAM,GAAGxF,KAAK,CAACwF,MAAN,GAAeD,SAAS,CAACvF,KAAD,EAAQC,QAAR,EAAkBkB,KAAlB,CAAxB,GAAmD0D,KAAK,CAAC7E,KAAN,CAAYwF,MAA5E;IACA,IAAIvI,IAAI,GAAG4H,KAAK,CAAC7E,KAAN,CAAY/C,IAAZ,IAAoB,GAAG8E,MAAH,CAAUmE,UAAV,EAAsB,GAAtB,EAA2BnE,MAA3B,CAAkCqB,IAAlC,EAAwC,GAAxC,EAA6CrB,MAA7C,CAAoDZ,KAApD,CAA/B;IACA,OAAO,aAAazF,MAAM,CAACK,OAAP,CAAe8H,YAAf,CAA4BgB,KAA5B,EAAmC,CAAC,GAAGpJ,QAAQ,CAACM,OAAb,EAAsB;MAC3EsD,GAAG,EAAE,GAAG0C,MAAH,CAAU9E,IAAV,EAAgB,OAAhB,EAAyB8E,MAAzB,CAAgCZ,KAAhC,CADsE;MAE3EqE,MAAM,EAAEA,MAFmE;MAG3EvI,IAAI,EAAEA,IAHqE;MAI3EmJ,aAAa,EAAEvB,KAAK,CAAC7E,KAAN,CAAYoG,aAAZ,IAA6BpG,KAAK,CAACoG,aAJyB;MAK3E3C,KAAK,EAAEzD,KAAK,CAACyD,KAL8D;MAM3E4C,cAAc,EAAErG,KAAK,CAACqG,cAAN,IAAwBxB,KAAK,CAAC7E,KAAN,CAAYqG,cANuB;MAO3E9C,KAAK,EAAEA,KAPoE;MAQ3EmB,UAAU,EAAEmB,aAAa,CAAC7F,KAAD,EAAQ6E,KAAR,CARkD;MAS3Ef,IAAI,EAAEA,IATqE;MAU3EwC,KAAK,EAAEtG,KAAK,CAACsG;IAV8D,CAAtB,EAWpDL,UAXoD,CAAnC,CAApB;EAYD,CApBM,CAAP;AAqBD"},"metadata":{},"sourceType":"script"}